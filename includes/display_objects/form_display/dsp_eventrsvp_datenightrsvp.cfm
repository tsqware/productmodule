<!---<cfset pluginConfig.addToHTMLFootQueue("includes/assets/htmlhead/jquery.validate.cfm")><cfset pluginConfig.addToHTMLFootQueue("includes/assets/htmlfoot/jsfoot_datenight.cfm")><cfoutput>plugindir: #$.globalConfig('pluginpath')#</cfoutput><cfset priceover5obj = $.getBean('content').loadBy(filename='product-module/event-rsvp-prices/adult-price') /><cfset priceover5 = priceover5obj.getRsvpPriceAmount() /><cfset priceunder5obj = $.getBean('content').loadBy(filename='product-module/event-rsvp-prices/children-price') /><cfset priceunder5 = priceunder5obj.getRsvpPriceAmount() /><cfset datenightrsvpobj = $.content() />---><cfset firstchildprice = 0 /><cfloop array="#rc.product.getPrices()#" index="pr">	<cfif pr.getPriceParam() eq "date-night-child">		<cfset firstchildprice = pr.getPriceAmount() />		<cfbreak />	</cfif></cfloop><cfloop array="#rc.product.getPrices()#" index="pr">	<cfif pr.getPriceParam() eq "date-night-add-child">		<cfset addchildprice = pr.getPriceAmount() />		<cfbreak />	</cfif></cfloop><cfinclude template="/productmodule/includes/assets/htmlhead/jquery.validate.cfm"><cfinclude template="/productmodule/includes/assets/htmlfoot/jsfoot_datenightrsvp.cfm"><cfoutput><style type="text/css">form fieldset p.error label { color: red; }##eventrsvp_datenight label.error {	display: block;	width: auto;	padding:0px;	font-weight:normal;}##eventrsvp_datenight div.error {	margin:0px 0px 15px;	display:none;	padding:15px;}##eventrsvp_datenight div.error li {	list-style:disc;	padding: 0px;	margin:0px;}##eventrsvp_datenight div.error ul {	list-style:disc;	padding: 0px;	margin:0px 0px 0px 20px;}</style><script language="javascript" type="text/javascript">	$(document).ready(function(e) {		getPriceValues();				$("input[name='numberofchildrenunder5']").change(function() {			getPriceValues();		});		$("input[name='numberofchildrenover5']").change(function() {			getPriceValues();		});		console.log("eventdate: #rc.product.getEventDate()#");	});		function initValues() {		over5 = $('input[name="numberofchildrenover5"]').val().length > 0 ? parseInt($('input[name="numberofchildrenover5"]').val()) : 0 ;		console.log("over5: " + over5);		under5 = $('input[name="numberofchildrenunder5"]').val().length > 0 ?  parseInt($('input[name="numberofchildrenunder5"]').val()) : 0;		console.log('numoverunder5: ' + (over5 + under5) );		totalchildren = over5 + under5;		pricefirst = #firstchildprice#;		priceadd = #addchildprice#;	}	function getPriceValues() {		initValues();		total = calcPrice(totalchildren, pricefirst, priceadd);						printPrice(over5, under5, total);				}		function setPrice(fldname) {		pr = 0;		inputval = $("input[name="+fldname+"]").val();		if (inputval > 0) {			pr = inputval;			}		console.log('pr: ' + pr);		return pr;	}	function calcPrice(totch, fpr, apr) {		//to = onum*parseInt(opr) + unum*parseInt(upr);		console.log('firstchildprice: ' + fpr);		console.log('totalnumchildren: ' + totch);		console.log('additionalchildprice: ' + apr);		if(totch > 0) {			to = fpr + apr* (totch-1);		}		else {			to = 0;		}		console.log(to);		return to;	}		function printPrice(onum, unum, tot) {		$("##totalover5").text(onum);			$("##totalunder5").text(unum);		$("##totalprice").text('$'+tot);		$("##pricetotal").val(tot);		console.log("pricetotal: " + $("##pricetotal").val());	}</script><h2>#rc.title#</h2><form id="eventrsvp_datenight" class="form-horizontal" method="post" action="##"> 	<div class="error alert alert-danger"><h4>The form could not be completed:</h4><ul></ul></div>	<div class="container-fluid">		<div class="row" style="padding:20px 0px; margin-bottom:20px;">			<div class="col-md-6" style="">				<div class="panel panel-default">					<div class="panel-body">						<fieldset id="set-primarymemberinfo">							<legend>Primary Member Info</legend>									<div class="mura-form-textfield req" style="margin-bottom:10px;">										<label for="firstname">First Name <ins>Required</ins></label>								<input type="text" name="firstname" class="form-control"  />									</div>									<div class="mura-form-textfield req " style="margin-bottom:10px;">										<label for="lastname">Last Name <ins>Required</ins></label>								<input type="text" name="lastname" class="form-control"  />									</div>							<div class="mura-form-textfield req " style="margin-bottom:10px;">										<label for="lastname">Email <ins>Required</ins></label>								<input type="text" name="email" class="form-control"  />									</div>						</fieldset>					</div>				</div>			</div>			<div class="col-md-6">				<div class="panel panel-default">					<div class="panel-body">						<fieldset id="set-familyinfo">							<legend>Number of Children</legend>									<div class="mura-form-textfield req " style="display:block;overflow:hidden;margin-bottom:20px;">										<div class="col-md-8"><label for="numberofchildrenunder5">Number of Children Under 5 <ins>Required</ins></label></div>								<div class="col-md-4"><input type="text" name="numberofchildrenunder5" id="numberofchildrenunder5" class="form-control numchildren-group"  /></div>									</div>								<div class="mura-form-textfield req " style="margin-bottom:10px;">								<div class="col-md-8"><label for="numberofchildrenover5">Number of Children Over 5 <ins>Required</ins></label></div>								<div class="col-md-4"><input type="text" name="numberofchildrenover5" id="numberofchildrenover5" class="form-control numchildren-group" />	</div>							</div>							<div class="mura-form-textfield" id="total">							</div>						</fieldset>					</div>				</div>			</div>		</div>		<div class="row">			<div class="well">				<h3 style="margin-top:0px;">Family Totals</h3>				<table>					<tr>						<td style="width:70%">Total Children Over 5:</td>						<td style="width:30%; text-align:right;"><strong id="totalover5"></strong></td>					</tr>					<tr>						<td style="width:70%;">Total Children Under 5:</td>						<td style="width:30%; text-align:right;"><strong id="totalunder5"></strong></td>					</tr>					<tr>						<td style="width:70%;">Total Price:</td>						<td style="width:30%; text-align:right;"><strong id="totalprice"></strong>						</td>					</tr>				</table>			</div>		</div>			<div class="row">			<input name="total" type="hidden" value="0" />			<input name="productType" type="hidden" value="#rc.product.getProductType().getProductTypeParam()#" />			<input name="productName" type="hidden" value="#rc.product.getProductName()#" />			<input name="productParam" type="hidden" value="#rc.product.getProductParam()#" />			<input name="eventDate" type="hidden" value="#rc.product.getEventDate()#" />			<!---			<input name="productClassParam" type="hidden" value="#rc.product.getProductClassParam()#" />			<input name="productURLParam" type="hidden" value="#rc.product.getProductURLParam()#" />			<input name="eventStartDate" type="hidden" value="#rc.product.getEventStartDate()#" />			<input name="eventEndDate" type="hidden" value="#datenightrsvpobj.getEventEndDate()#" />			--->					<input id="pricetotal" type="hidden" name="pricetotal" value="0" />			<input id="paymentMethod" type="hidden" name="paymentMethod" value="None" />			<div style="text-align:center; padding:20px 0px;"><input type="submit" class="btn btn-default" value="Submit"></div>		</div>	</div></form></cfoutput>